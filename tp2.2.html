<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <!-- Latest compiled and minified CSS -->
<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/css/bootstrap.min.css" integrity="sha512-dTfge/zgoMYpP7QbHy4gWMEGsbsdZeCXz7irItjcC3sPUFtf0kuFbDz/ixG7ArTxmDjLXDmezHubeNikyKGVyQ==" crossorigin="anonymous">
    
    <title>Document</title>
    <style>

        .red {
            background-color: red;
        }
        .green {
            background-color: green;
        }
        .white {
            background-color: white;
        }
        .template {
            visibility: hidden;
        }
    </style>

</head>

<body>
    <p>Lorem ipsum dolor sit amet, consectetur adipisicing elit. Quasi explicabo <b>eius obcaecati</b> aspernatur iure rerum harum placeat at non sunt, asperiores? Omnis quaerat id, non nisi similique accusantium natus tempore!</p>
    
    <button id="ajouterLigne" class="btn btn-primary btn-lng">Ajouter ligne</button>
    
    <table id="maTable" class="table table-bordered">
        <tr>
            <td class="green">01</td>
            <td>02</td>
            <td>03</td>
            <td>01<button class="colorize">Colorier</button></td>
            <td>01<button class="del">Supprimer</button></td>
        </tr>
        <tr>
            <td class="green">01</td>
            <td>02</td>
            <td>03</td>
            <td>01<button class="colorize">Colorier</button></td>
            <td>02<button class="del">Supprimer</button></td>
        </tr>
        <tr>
            <td class="green">01</td>
            <td>02</td>
            <td>03</td>
            <td>01<button class="colorize">Colorier</button></td>
            <td>03<button class="del">Supprimer</button></td>
        </tr>
        <tr>
            <td class="green">01</td>
            <td>02</td>
            <td>03</td>
            <td>01<button class="colorize">Colorier</button></td>
            <td>04<button class="del">Supprimer</button></td>
        </tr>
        <tr>
            <td class="green">01</td>
            <td>02</td>
            <td>03</td>
            <td>01<button class="colorize">Colorier</button></td>
            <td>05<button class="del">Supprimer</button></td>
        </tr>
        <tfoot class="template">
            <tr>
                <td class="green">01</td>
                <td>02</td>
                <td>03</td>
                <td>01<button class="colorize">Colorier</button></td>
                <td>01<button class="del">Supprimer</button></td>
            </tr>
        </tfoot>
    </table>
    
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.4/jquery.min.js"></script>

    <script>
        
        $("b").on("click", function(event) {
            console.log(event);
        });
        
/*
        $("#fire").on("click", function(event) {
            console.log(event.type);
        });
        
        $("#fire").on("dblclick", function(event) {
            console.log(event.type);
        });
        
        $("#fire").on("mousedown", function(event) {
            console.log(event.type);
        });
        
        $("#fire").on("mouseup", function(event) {
            console.log(event.type);
        });
*/
        
        
        var boutons = $(".del");
        
        var boutonsCol = $(".colorize");
        
        boutons.on("click", function supprimerLigne(event) {
           $(this).closest("tr").remove();
        });
        
        boutonsCol.on("click", function alternerCouleurs(event) {
            var cell = $(this).closest("tr").find("td:first-of-type");
            console.log("on trouve " + cell);
            if (cell.hasClass("white")) {
                cell.removeClass("white");
                cell.addClass("red");
            }
            cell.toggleClass("red green");
        });
        
        boutonsCol.on("dblclick", function reinitialiserCouleurs(event) {
            // faire $(this) == $(e.target)
            var cell = $(this).closest("tr").find("td:first-of-type");
            cell.removeClass("red green");
            cell.addClass("white");
        });

        
/*
        boutonsCol.on("click", function colorierPremiereCellule() {
           $(this).closest("tr").find("td:first-of-type").addClass("red");
        });
*/

        $("#ajouterLigne").on("click", function ajouterLigne(evenement) {
            // clone(true) permet de copier le gestionnaire d'évènements en plus des éléments HTML
            $("#maTable").append($("#maTable>tfoot>tr").clone(true));
        });
        
        
        
    </script>

</body>

</html>